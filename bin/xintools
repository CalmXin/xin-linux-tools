#!/bin/bash

set -e  # 遇到错误立即退出

# 获取当前脚本的真实绝对路径（自动处理软链接）
REAL_PATH=$(readlink -f "${BASH_SOURCE[0]}")
BASE_DIR=$(dirname "$(dirname "$REAL_PATH")")

cd "$BASE_DIR"

# 检查虚拟环境是否存在（默认使用 venv）
VENV_DIR="${BASE_DIR}/.linux_venv"
COMMAND="xintools"

# 激活虚拟环境
source "$VENV_DIR/bin/activate"
exec "$COMMAND" "$@"